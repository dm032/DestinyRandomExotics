<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Making a game out of getting primary kills. Generate a list of 10 exotic primaries and get a kill with each one to score points">
    <meta name="author" content="dm032">
    <title>Destiny Random Exotic Game</title>
    <link rel="shortcut icon" href="">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <style>
        header,article{ padding: 0 20px; } 
        .centerText{ padding: 40px; text-align: center; } 
        #explainer{ margin: 20px 0 25px 0; }
        #inventoryList{ height:400px; }
        #inventoryList p{ text-align: center; }
        .score{ padding: 0px; text-align: center; border: 1px solid #000; }
        .weaponList{ margin: 10px; }
    </style>

    <!--[if IE]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    
</head>

<body>
    <div class="container">
    <div class="row">
        <div class="col-xs-12">
            <header>
                <h1>Destiny Random Exotic Game</h1>
            </header>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-md-offset-3 col-xs-12">
            <p id="explainer">The rules are simple! Before you load into a match generate a random list of 10 exotic primary weapons to put into your inventory. You have to get a kill with each one during the match! Once you get a kill, push the button to track your score. Change weapons when you die, push "I Died" to find out your next weapon.</p>
        </div>
    </div>
</div>
    <div class="container-fluid weaponList">
<div class="row">
        <form method="post" lpformnum="1">
            <fieldset>
                <legend>Which Exotics do you have?</legend>
                    <div class="col-lg-2 col-lg-offset-1 col-sm-6">
                    <h4>Auto Rifles</h4>
                        <input type="checkbox" name="exotics" value="Hard Light" checked/>Hard Light <br />
                        <input type="checkbox" name="exotics" value="Khvostov 7G-0X" checked/>Khvostov 7G-0X <br />
                        <input type="checkbox" name="exotics" value="Monte Carlo" checked/>Monte Carlo <br />
                        <input type="checkbox" name="exotics" value="SUROS Regime" checked/>SUROS Regime <br />
                        <input type="checkbox" name="exotics" value="Zhalo Supercell" checked/>Zhalo Supercell <br />
                        <input type="checkbox" name="exotics" value="Necrochasm" checked/>Necrochasm <br />
                        <input type="checkbox" name="exotics" value="Abyss Defiant (Adept)" checked/>Abyss Defiant (Adept) <br />
                        <input type="checkbox" name="exotics" value="Anguish of Drystan (Adept)" checked/>Anguish of Drystan (Adept) <br />
                        <input type="checkbox" name="exotics" value="Atheon's Epilogue (Adept)" checked/>Atheon's Epilogue (Adept) <br />
                        <input type="checkbox" name="exotics" value="((GENESIS CHAIN~))" checked/>((GENESIS CHAIN~)) <br />
                    </div>
                    <div class="col-lg-2 col-sm-6">
                    <h4>Hand Cannons</h4>
                        <input type="checkbox" name="exotics" value="Hawkmoon" checked/>Hawkmoon <br />
                        <input type="checkbox" name="exotics" value="The Last Word" checked/>The Last Word <br />
                        <input type="checkbox" name="exotics" value="Thorn" checked/>Thorn <br />
                        <input type="checkbox" name="exotics" value="The First Curse" checked/>The First Curse <br />
                        <input type="checkbox" name="exotics" value="Fatebringer (Adept)" checked/>Fatebringer (Adept) <br />
                        <input type="checkbox" name="exotics" value="Word of Crota (Adept)" checked/>Word of Crota (Adept) <br />
                        <input type="checkbox" name="exotics" value="Zaouli's Bane (Adept)" checked/>Zaouli's Bane (Adept) <br />
                        <input type="checkbox" name="exotics" value="((FEVER AND REMEDY~))" checked/>((FEVER AND REMEDY~)) <br />
                    </div>
                    <div class="col-lg-2 col-sm-6">
                    <h4>Pulse Rifles</h4>
                        <input type="checkbox" name="exotics" value="Bad Juju" checked/>Bad Juju <br />
                        <input type="checkbox" name="exotics" value="Outbreak Prime" checked/>Outbreak Prime <br />
                        <input type="checkbox" name="exotics" value="Red Death" checked/>Red Death <br />
                        <input type="checkbox" name="exotics" value="No Time to Explain" checked/>No Time to Explain <br />
                        <input type="checkbox" name="exotics" value="Oversoul Edict (Adept)" checked/>Oversoul Edict (Adept) <br />
                        <input type="checkbox" name="exotics" value="Praedyth's Timepiece (Adept)" checked/>Praedyth's Timepiece (Adept) <br />
                        <input type="checkbox" name="exotics" value="Smite of Merain (Adept)" checked/>Smite of Merain (Adept) <br />
                        <input type="checkbox" name="exotics" value="((STEEL MEDULLA~))" checked/>((STEEL MEDULLA~)) <br />
                    </div>
                    <div class="col-lg-2 col-sm-6">
                    <h4>Scout Rifles</h4>
                        <input type="checkbox" name="exotics" value="Boolean Gemini" checked/>Boolean Gemini <br />
                        <input type="checkbox" name="exotics" value="MIDA Multi-Tool" checked/>MIDA Multi-Tool <br />
                        <input type="checkbox" name="exotics" value="The Jade Rabbit" checked/>The Jade Rabbit <br />
                        <input type="checkbox" name="exotics" value="Touch of Malice" checked/>Touch of Malice <br />
                        <input type="checkbox" name="exotics" value="Doom of Chelchis (Adept)" checked/>Doom of Chelchis (Adept) <br />
                        <input type="checkbox" name="exotics" value="Fang of Ir Yût (Adept)" checked/>Fang of Ir Yût (Adept) <br />
                        <input type="checkbox" name="exotics" value="Vision of Confluence (Adept)" checked/>Vision of Confluence (Adept) <br />
                        <input type="checkbox" name="exotics" value="((CHAOS DOGMA~))" checked/>((CHAOS DOGMA~)) <br />
                    </div>
                    <div class="col-lg-2 col-sm-6">
                    <h4>Other</h4>
                        <input type="checkbox" name="exotics" value="Universal Remote" checked/>Universal Remote <br />
                        <input type="checkbox" name="exotics" value="No Land Beyond" checked/>No Land Beyond <br />
                        <input type="checkbox" name="exotics" value="Vex Mythoclast" checked/>Vex Mythoclast <br />
                    <h4>Class Specific</h4>
                        <input type="checkbox" name="exotics" value="Ace of Spades" />Ace of Spades <br />
                        <input type="checkbox" name="exotics" value="Fabian Strategy" />Fabian Strategy <br />
                        <input type="checkbox" name="exotics" value="Tlaloc" />Tlaloc <br />
                        
                        <div align='right'>
                        <input class="btn btn-primary btn-large" type="button" id="generateInventory" value="Generate Inventory" /></div>
                    </div>
            </fieldset>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="jumbotron col-md-6 col-md-offset-3 col-xs-12">
            <div class="col-xs-9">
                <h3>And your current weapon is:</h3>
                <h2 id="currentWeapon">WEAPON!</h2>
                <button class="btn btn-success btn-large" id="increaseScore">I got a KILL!!</button>
                <button class="btn btn-danger btn-large" id="nextWeapon">I Died!</button>
            </div>
            <div class="col-xs-3 score">
                <p>Current Score:</p>
                <h2 id="scoreCounter">0</h2>
                <button class="btn btn-small" id="resetScore">Reset Score</button>
            </div>
            
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-md-offset-3 col-xs-12">
            <h3>Weapons in Inventory:</h3>
            <div id="inventoryList"></div>
        </div>
    </div>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    
    <script>
        var exotics = new Array();
        var inventory = new Array();
        var weapon = "Select Inventory";
        var weaponNo = "0";
        var score = "0";
        
        function getUnique(count) {
          // Make a copy of the array
          var tmp = exotics.slice(exotics);
          var ret = [];
          
          for (var i = 0; i < count; i++) {
            var index = Math.floor(Math.random() * tmp.length);
            var removed = tmp.splice(index, 1);
            // Since we are only removing one element
            ret.push(removed[0]);
          }
          return ret;  
        }
        
        
        function randomFrom(arr){
            var randomIndex = Math.floor(Math.random() * arr.length);
            return arr[randomIndex];
        }
    
        $( document ).ready(function() {
            
        });
        $("#generateInventory").click(function(event){
            exotics = $.map($('input:checkbox:checked'), function(e,i) {
                return e.value;
            });
        weaponNo = 0;
        score = 0;
        inventory = getUnique(10);
        $("#inventoryList p").remove();
        var commentsContainer = document.getElementById("inventoryList");
        inventory.forEach(function(element, index){
           // create paragraph for each inventory item
           var elementForInventory = document.createElement('p');
        
           // set text of paragraph
           elementForInventory.innerText = element;
        
           // add paragraph into inventory holder.
           commentsContainer.appendChild(elementForInventory);
        });
        
        weapon = inventory[0];

        $("#currentWeapon").text(function(n){
            return weapon;
        });
        $("#scoreCounter").text(function(n){
            return weaponNo;
        });
        });
        
        $("#nextWeapon").click(function(event){            
            if (weaponNo < 10) {
                weaponNo++;
                weapon = inventory[weaponNo];
            } else {
            do {
                newWeapon = randomFrom(inventory);
            } while( newWeapon === weapon )
            weapon = newWeapon;
            
            });
            
         $("#increaseScore").click(function(event){
             score++;
            });
            

            $("#currentWeapon").text(function(n){
                return weapon;
            });
            $("#scoreCounter").text(function(n){
                return score;
            });
        });
        $("#resetScore").click(function(event){
            score = 0;
            $("#scoreCounter").text(function(n){
                return score;
            });
         });
        
/*        window.addEventListener('keydown', function(e) {
          if(e.keyCode == 32 && e.target == document.body) {
            e.preventDefault();
            weaponNo++;
            if (weaponNo < 10) {
                weapon = inventory[weaponNo];
            } else {
            do {
                newWeapon = randomFrom(inventory);
            } while( newWeapon === weapon )
            weapon = newWeapon;
            
            };
            

            $("#currentWeapon").text(function(n){
                return weapon;
            });
            $("#scoreCounter").text(function(n){
                return weaponNo;
            });
          }
        });
*/
    </script>
    
</body>
</html>
